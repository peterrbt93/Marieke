"use strict";(self.webpackChunkMarieke=self.webpackChunkMarieke||[]).push([[7851],{6827:(T,v,a)=>{a.d(v,{_:()=>C});var t=a(3989),P=a(4378),u=a(8141);class g{constructor(){this.query="",this.page=""}}var _=a(4769);let C=(()=>{class h{constructor(r){this.filter="",this.itemsPerPageDefault=5,this.searchField="",this.params=new g,this.itemsCount=0,this.itemsPage=1,this.itemsPerPage=4,this.query="",this.route=r.get(t.gz),this.router=r.get(t.F0),this.configService=r.get(P.E),this.itemsService=r.get(u.L),this.initialize()}initialize(){this.api=this.configService.config.api,this.url=this.configService.config.url+this.endpoint,this.readQueryParams()}readQueryParams(){this.route.queryParams.subscribe(r=>{this.params.query=r.q,void 0!==r.page&&(this.params.page=r.page,this.itemsPage=parseInt(this.params.page,10)),this.searchField=this.params.query,this.getItems()})}getItems(){this.loaded=!1,this.query=this.searchField,void 0!==this.endpoint&&this.itemsService.getItemsCount(this.api,this.url,this.query).subscribe(r=>{this.itemsCount=r.count,this.itemsPerPage<1&&(this.itemsPerPage=this.itemsPerPageDefault);const s=this.itemsPage,i=Math.ceil(this.itemsCount/this.itemsPerPage);s>=i&&(this.itemsPage=i),this.itemsService.getItems(this.api,this.url,this.itemsPerPage,this.itemsPage,this.query).subscribe(c=>{this.items=c,this.loaded=!0})})}writeQueryParams(){let r=this.searchField;(""===r||void 0===r)&&(r="");const s="/"+this.linkRoute;let i="";this.itemsPage>1&&(i=this.itemsPage.toString()),this.params.query=r,this.params.page=i,this.router.navigate(["crud/"+s],{queryParams:this.params})}search(){this.query=this.searchField,this.writeQueryParams(),this.getItems()}changePage(r){this.itemsPage=r,this.writeQueryParams(),this.getItems()}selectItem(r){this.router.navigate(["/crud/"+this.link,r])}onChangePage(r){this.changePage(r)}onSearch(r){this.searchField=r,this.search()}static#t=this.\u0275fac=function(s){return new(s||h)(_.Y36(_.zs3))};static#e=this.\u0275cmp=_.Xpm({type:h,selectors:[["app-page-list"]],decls:0,vars:0,template:function(s,i){}})}return h})()},1099:(T,v,a)=>{a.d(v,{Q:()=>f});var t=a(4769);class P{}let u=(()=>{class e{range(n,l,p){null==l&&(l=n||0,n=0),p||(p=l<n?-1:1);const d=Math.max(Math.ceil((l-n)/p),0),x=Array(d);for(let y=0;y<d;y++,n+=p)x[y]=n;return x}getPagination(n,l,p){const d=Math.ceil(n/p);let x,y;l<1&&(l=1),l>d&&(l=1),d<=7?(x=1,y=d):l<=7?(x=1,y=7):l+1>=d?(x=d-7+1,y=d,l<x&&(x=l+1,y=l+1)):(y=l,x=y-7+1);const b=this.range(x,y+1,1);let E=!1;d>7&&(E=!0);const M=new P;return M.pages=b,M.browser=E,M.total=d,M.current=l,M.perPage=p,M}static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var g=a(6814);const _=function(e){return{disabled:e}};function C(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"li",5)(1,"a",6),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2);return t.KtG(p.selectPage(1))}),t._uU(2,"\xab"),t.qZA()()}if(2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(1,_,1===n.pagination.current))}}function h(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2);return t.KtG(p.selectPage(p.pagination.current-1))}),t._uU(2,"\u2039"),t.qZA()()}if(2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(1,_,1===n.pagination.current))}}const o=function(e){return{active:e}};function r(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){const d=t.CHM(n).$implicit,x=t.oxw(2);return t.KtG(x.selectPage(d))}),t._uU(2),t.qZA()()}if(2&e){const n=m.$implicit,l=t.oxw(2);t.Q6J("ngClass",t.VKq(2,o,l.pagination.current===n)),t.xp6(2),t.Oqu(n)}}function s(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2);return t.KtG(p.selectPage(p.pagination.current+1))}),t._uU(2,"\u203a"),t.qZA()()}if(2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(1,_,n.pagination.current===n.pagination.total))}}function i(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2);return t.KtG(p.selectPage(p.pagination.total))}),t._uU(2,"\xbb"),t.qZA()()}if(2&e){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(1,_,n.pagination.current===n.pagination.total))}}function c(e,m){if(1&e&&(t.TgZ(0,"nav",1)(1,"ul",2),t.YNc(2,C,3,3,"li",3),t.YNc(3,h,3,3,"li",3),t.YNc(4,r,3,4,"li",4),t.YNc(5,s,3,3,"li",3),t.YNc(6,i,3,3,"li",3),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.pagination.browser),t.xp6(1),t.Q6J("ngIf",n.pagination.browser),t.xp6(1),t.Q6J("ngForOf",n.pagination.pages),t.xp6(1),t.Q6J("ngIf",n.pagination.browser),t.xp6(1),t.Q6J("ngIf",n.pagination.browser)}}let f=(()=>{class e{constructor(n){this.paginationService=n,this.changePage=new t.vpe,this.pagination=new P}ngOnChanges(){this.pagination.count=this.count,this.pagination.perPage=this.perPage,this.pagination.page=this.page,this.pagination=this.paginationService.getPagination(this.pagination.count,this.pagination.page,this.pagination.perPage)}selectPage(n){this.changePage.emit(n)}static#t=this.\u0275fac=function(l){return new(l||e)(t.Y36(u))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pagination"]],inputs:{count:"count",page:"page",perPage:"perPage"},outputs:{changePage:"changePage"},features:[t.TTD],decls:1,vars:1,consts:[["aria-label","pagination",4,"ngIf"],["aria-label","pagination"],[1,"pagination","d-flex","justify-content-center","pagination-sm"],["class","page-item",3,"ngClass",4,"ngIf"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link","waves-effect","waves-effect",3,"click"],[1,"page-link",3,"click"]],template:function(l,p){1&l&&t.YNc(0,c,7,5,"nav",0),2&l&&t.Q6J("ngIf",p.pagination.pages&&p.pagination.pages.length)},dependencies:[g.mk,g.sg,g.O5]})}return e})()},1878:(T,v,a)=>{a.d(v,{u:()=>C});var t=a(6814),P=a(3989),u=a(4769);const g=[];let _=(()=>{class h{static#t=this.\u0275fac=function(s){return new(s||h)};static#e=this.\u0275mod=u.oAB({type:h});static#n=this.\u0275inj=u.cJS({imports:[P.Bz.forChild(g),P.Bz]})}return h})(),C=(()=>{class h{static#t=this.\u0275fac=function(s){return new(s||h)};static#e=this.\u0275mod=u.oAB({type:h});static#n=this.\u0275inj=u.cJS({imports:[t.ez,_]})}return h})()},2491:(T,v,a)=>{a.d(v,{N:()=>g});var t=a(4769),P=a(95);const u=["edit"];let g=(()=>{class _{constructor(){this.search=new t.vpe}searching(){this.search.emit(this.edit.nativeElement.value)}static#t=this.\u0275fac=function(o){return new(o||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-search-bar"]],viewQuery:function(o,r){if(1&o&&t.Gf(u,5),2&o){let s;t.iGM(s=t.CRH())&&(r.edit=s.first)}},inputs:{searchField:"searchField",placeholder:"placeholder",results:"results",itemsCount:"itemsCount",icon:"icon"},outputs:{search:"search"},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[1,"ml-4"],[1,"d-flex","pt-2"],[1,"d-flex","me-auto"],["type","text","name","searchField",1,"form-control","me-2",3,"ngModel","placeholder"],["edit",""],["type","button",1,"btn","btn-nga-primary","btn-sm","btn-nga",3,"click"],[1,"fa","fa-search"],[1,"d-flex","me-auto","d-none","d-md-block"],[1,"pt-2","ml-4"],[2,"color","gray"],[2,"color","#e0e0e0"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"strong"),t._uU(4,"Feature"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"input",5,6),t.TgZ(9,"button",7),t.NdJ("click",function(){return r.searching()}),t._UZ(10,"i",8),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"b")(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"span",12),t._uU(17,"( 0.432 ms )"),t.qZA()()()()()()),2&o&&(t.xp6(7),t.s9C("placeholder",r.placeholder),t.Q6J("ngModel",r.searchField),t.xp6(8),t.AsE("",r.itemsCount," ",r.results,""))},dependencies:[P.Fj,P.JJ,P.On],styles:[".btn-nga[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;padding:.5rem;font-size:.81rem;border:0;border-radius:.125rem}.btn-nga[_ngcontent-%COMP%]:hover, .btn-nga[_ngcontent-%COMP%]:active, .btn-nga[_ngcontent-%COMP%]:focus{box-shadow:0 5px 11px #0000002e,0 4px 15px #00000026;outline:0}.btn-nga-primary[_ngcontent-%COMP%]{border:2px solid #4285f4!important;color:#4285f4!important;background-color:transparent!important}"]})}return _})()},1418:(T,v,a)=>{a.d(v,{B:()=>h});var t=a(6814),P=a(95),u=a(3989),g=a(4769);const _=[];let C=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=g.oAB({type:o});static#n=this.\u0275inj=g.cJS({imports:[u.Bz.forChild(_),u.Bz]})}return o})(),h=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=g.oAB({type:o});static#n=this.\u0275inj=g.cJS({imports:[t.ez,C,P.u5]})}return o})()},6233:(T,v,a)=>{a.d(v,{B:()=>u});var t=a(4769),P=a(3989);let u=(()=>{class g{constructor(C){this.router=C}createItem(){this.router.navigate(["/crud/"+this.link,0])}static#t=this.\u0275fac=function(h){return new(h||g)(t.Y36(P.F0))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-search-result"]],inputs:{searchField:"searchField",creation:"creation",found:"found",link:"link"},decls:20,vars:3,consts:[[1,"card","mb-4","text-center"],[1,"card-body"],["src","./assets/params/images/logo/dharma.png","height","70","width","70"],[1,"card-text","mt-3"],[1,"card-title","font-weight-bold","text-primary"],[1,"blockquote"],[1,"text-left","text-primary"],[1,"text-left"],[1,"text-left","text-info"],["type","button",1,"font-weight-bold","btn","btn-outline-info","btn-sm","mt-4",3,"click"],[1,"fas","fa-plus","fa-lg","mr-2"]],template:function(h,o){1&h&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"h6",4),t._uU(6),t.qZA(),t.TgZ(7,"blockquote",5)(8,"p",6),t._uU(9,"Suggestions"),t.qZA(),t.TgZ(10,"h6",7),t._uU(11,"Try other keywords"),t.qZA(),t.TgZ(12,"h6",7),t._uU(13,"Delete search filters"),t.qZA(),t._UZ(14,"hr"),t.TgZ(15,"h6",8),t._uU(16,"Create new Item"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return o.createItem()}),t._UZ(18,"i",10),t._uU(19),t.qZA()()()()),2&h&&(t.xp6(4),t.hij("No ",o.found," matches the specified search terms"),t.xp6(2),t.hij(" ",o.searchField," "),t.xp6(13),t.hij("Create ",o.creation," "))},styles:[".card[_ngcontent-%COMP%]{display:block;background-color:#fffc;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border-radius:2px;transition:all .2s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}blockquote[_ngcontent-%COMP%]{border-left:3px solid #4285F4;margin:10px;padding:10px 20px}"]})}return g})()},7519:(T,v,a)=>{a.d(v,{p:()=>h});var t=a(6814),P=a(95),u=a(3989),g=a(4769);const _=[];let C=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=g.oAB({type:o});static#n=this.\u0275inj=g.cJS({imports:[u.Bz.forChild(_),u.Bz]})}return o})(),h=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=g.oAB({type:o});static#n=this.\u0275inj=g.cJS({imports:[t.ez,C,P.u5]})}return o})()},8141:(T,v,a)=>{a.d(v,{L:()=>h});var t=a(9862),P=a(2096),u=a(6306),g=a(7398),_=a(4769);const C={headers:new t.WM({"Content-Type":"application/json"})};let h=(()=>{class o{constructor(s){this.http=s}filterJsonItem(s,i){let c=null;return s.map((f,e,m)=>{const n=parseInt(i,10);m[e].id===n&&(c=m[e])}),c}filterJsonItemsCount(s,i){let c=0;if(void 0!==i&&null!=i){const f=i.toString().toLowerCase();c=s.filter(m=>0===m.name.toLowerCase().indexOf(f)).length}else c=s.length;return{count:c}}filterJsonItems(s,i,c,f){let e;if(void 0!==i&&null!=i){const p=i.toString().toLowerCase();e=s.filter(d=>0===d.name.toLowerCase().indexOf(p))}else e=s;const m=c*(f-1),n=c*(f-1)+c-1,l=[];return e.map((p,d)=>{d>=m&&d<=n&&l.push(e[d])}),l}getItemsCount(s,i,c){let f="";void 0!==c&&""!==c&&null!==c&&(f="?q="+c);const e=(i+=s?"/count":".json")+f;let m;return m=s?this.http.get(e).pipe((0,u.K)(this.handleError("getItems",[]))):this.http.get(e).pipe((0,g.U)(n=>this.filterJsonItemsCount(n,c)),(0,u.K)(this.handleError("getItems",[]))),m}getItems(s,i,c,f,e){s||(i+=".json");let m="";if(void 0!==c||void 0!==f||void 0!==e){let d;d=0,0===f&&(f=1),void 0!==f&&(d=(f-1)*c),void 0!==e&&""!==e&&null!==e&&(m="?q="+e),m=""!==m?m+"&limit="+c+"&offset="+d:"?limit="+c+"&offset="+d}const n=i+m;let l;return l=s?this.http.get(n).pipe((0,u.K)(this.handleError("getItems",[]))):this.http.get(n).pipe((0,g.U)(p=>this.filterJsonItems(p,e,c,f)),(0,u.K)(this.handleError("getItems",[]))),l}getItem(s,i,c){s||(i+=".json");let f={};return void 0!==c&&(f=s?this.http.get(i+"/"+c).pipe((0,u.K)(this.handleError(`getItem id=${c}`))):this.http.get(i).pipe((0,g.U)(m=>this.filterJsonItem(m,c)),(0,u.K)(this.handleError("getItems",[])))),f}addItem(s,i){const c=JSON.stringify(i);return this.http.post(s,c,C).pipe((0,u.K)(this.handleError("addItem")))}updateItem(s,i,c){return this.http.put(c+"/"+i,s,C).pipe((0,u.K)(this.handleError("updateItem")))}deleteItem(s,i){return this.http.delete(s+"/"+i,C).pipe((0,u.K)(this.handleError("deleteItem")))}handleError(s="operation",i){return c=>(console.error(`${s} failed: ${c.message}`),(0,P.of)(i))}static#t=this.\u0275fac=function(i){return new(i||o)(_.LFG(t.eN))};static#e=this.\u0275prov=_.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);